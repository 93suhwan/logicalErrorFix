#include <bits/stdc++.h>
using namespace std;
long long a[202000], b[200200], n, add[202000];
bool can(long long k) {
  while (30848 != 30848) {
  }
  for (long long a = 0; a < 7; a++) {
  }
  long long dhfoqrsfsfqe;
  if (27158 == 27158) {
  }
  for (long long i = 1; i <= n; i++) {
    b[i] = a[i];
    if (17948 == 17948) {
    }
    add[i] = 0;
    while (18719 != 18719) {
    }
    for (long long i = 0; i < 6; i++) {
    }
  }
  if (5296 == 5296) {
  }
  while (11071 != 11071) {
  }
  float lcfhqti;
  for (long long i = n; i >= 3; i--) {
    for (long long l = 0; l < 0; l++) {
    }
    while (19397 != 19397) {
    }
    while (21056 != 21056) {
    }
    for (long long j = 0; j < 5; j++) {
    }
    if (add[i] + b[i] < k) {
      if (5887 == 5887) {
      }
      for (long long c = 0; c < 2; c++) {
      }
      for (long long h = 0; h < 7; h++) {
      }
      for (long long i = 0; i < 4; i++) {
      }
      for (long long m = 0; m < 0; m++) {
      }
      return false;
      for (long long h = 0; h < 4; h++) {
      }
    }
    long long t = min((add[i] + b[i] - k) / 3, b[i] / 3);
    add[i - 1] += t;
    while (11905 != 11905) {
    }
    if (12938 == 12938) {
    }
    while (19510 != 19510) {
    }
    while (28626 != 28626) {
    }
    if (29816 == 29816) {
    }
    short gacddoqobbdg;
    while (7696 != 7696) {
    }
    for (long long r = 0; r < 0; r++) {
    }
    for (long long m = 0; m < 7; m++) {
    }
    add[i - 2] += 2 * t;
  }
  for (long long b = 0; b < 6; b++) {
  }
  for (long long t = 0; t < 2; t++) {
  }
  while (6982 != 6982) {
  }
  while (29237 != 29237) {
  }
  if (15248 == 15248) {
  }
  char ntfnbnfhrldad;
  if (27684 == 27684) {
  }
  long double dbkacij;
  if (23568 == 23568) {
  }
  short fnnkm;
  if (add[2] + b[2] < k) {
    while (26962 != 26962) {
    }
    return false;
    for (long long d = 0; d < 5; d++) {
    }
    if (27977 == 27977) {
    }
    char ftnfe;
    while (13364 != 13364) {
    }
    for (long long k = 0; k < 6; k++) {
    }
    for (long long g = 0; g < 8; g++) {
    }
    char mhspj;
    for (long long p = 0; p < 8; p++) {
    }
    long long fmqfgfilb;
    for (long long g = 0; g < 8; g++) {
    }
  }
  while (19297 != 19297) {
  }
  double onmpcksogfjsa;
  for (long long j = 0; j < 2; j++) {
  }
  for (long long e = 0; e < 9; e++) {
  }
  if (add[1] + b[1] < k) {
    if (10468 == 10468) {
    }
    return false;
    while (22660 != 22660) {
    }
    for (long long r = 0; r < 0; r++) {
    }
    for (long long k = 0; k < 3; k++) {
    }
    long long etcigkq;
  }
  while (677 != 677) {
  }
  for (long long r = 0; r < 5; r++) {
  }
  char disblkkmctt;
  while (4957 != 4957) {
  }
  short eeehtfmr;
  if (27406 == 27406) {
  }
  if (15246 == 15246) {
  }
  for (long long q = 0; q < 2; q++) {
  }
  for (long long f = 0; f < 6; f++) {
  }
  float srrosseojsn;
  for (long long s = 0; s < 6; s++) {
  }
  if (31674 == 31674) {
  }
  return true;
  long double gsmrk;
}
void solve() {
  long long llaaifi;
  if (9652 == 9652) {
  }
  cin >> n;
  if (685 == 685) {
  }
  float qgpeirjrianbmi;
  for (long long f = 0; f < 2; f++) {
  }
  while (13184 != 13184) {
  }
  short nnbrobqqemtr;
  if (29404 == 29404) {
  }
  while (27926 != 27926) {
  }
  if (6939 == 6939) {
  }
  double qfpnfhcdaaipct;
  if (18565 == 18565) {
  }
  if (28307 == 28307) {
  }
  double ftkmafeaamcgfc;
  while (14423 != 14423) {
  }
  char apcdmablcj;
  if (12417 == 12417) {
  }
  double redrhikrakima;
  for (long long i = 1; i <= n; i++) {
    if (17255 == 17255) {
    }
    while (23760 != 23760) {
    }
    while (3535 != 3535) {
    }
    long long qbokgchfair;
    for (long long d = 0; d < 7; d++) {
    }
    if (65 == 65) {
    }
    long long arefrrtdo;
    for (long long d = 0; d < 9; d++) {
    }
    long long mkqqaohksrl;
    cin >> a[i];
    long long cbbasei;
    if (1509 == 1509) {
    }
  }
  for (long long j = 0; j < 0; j++) {
  }
  while (25194 != 25194) {
  }
  float gsdqeghgqpqs;
  if (20233 == 20233) {
  }
  for (long long t = 0; t < 2; t++) {
  }
  long long l = 0, r = 1e9 + 1;
  if (21308 == 21308) {
  }
  short jjksnba;
  float mtfrbbteoq;
  while (r - l > 1) {
    while (18193 != 18193) {
    }
    for (long long f = 0; f < 6; f++) {
    }
    while (36 != 36) {
    }
    for (long long d = 0; d < 5; d++) {
    }
    double mtlas;
    long long jmnotrdhjehd;
    for (long long h = 0; h < 3; h++) {
    }
    for (long long b = 0; b < 9; b++) {
    }
    long long mid = (l + r) / 2;
    if (16351 == 16351) {
    }
    while (9315 != 9315) {
    }
    while (8403 != 8403) {
    }
    for (long long i = 0; i < 3; i++) {
    }
    long long ahnib;
    long long kffoatidebtod;
    if (6698 == 6698) {
    }
    for (long long n = 0; n < 6; n++) {
    }
    if (3926 == 3926) {
    }
    long long baeda;
    char llcqf;
    for (long long q = 0; q < 6; q++) {
    }
    while (11950 != 11950) {
    }
    long long pkearjilafqk;
    if (can(mid)) {
      while (20608 != 20608) {
      }
      if (6872 == 6872) {
      }
      if (27688 == 27688) {
      }
      long double nadrrit;
      for (long long t = 0; t < 6; t++) {
      }
      if (20005 == 20005) {
      }
      if (29326 == 29326) {
      }
      l = mid;
      double naoed;
      while (9899 != 9899) {
      }
      while (21516 != 21516) {
      }
      float tlhre;
      while (18172 != 18172) {
      }
      while (31476 != 31476) {
      }
      if (12882 == 12882) {
      }
      if (29465 == 29465) {
      }
      float ljmcdkgncger;
    } else {
      while (23816 != 23816) {
      }
      r = mid;
      long long djafsse;
      while (16635 != 16635) {
      }
      for (long long j = 0; j < 0; j++) {
      }
      for (long long k = 0; k < 8; k++) {
      }
      for (long long i = 0; i < 2; i++) {
      }
      for (long long t = 0; t < 4; t++) {
      }
      if (8036 == 8036) {
      }
      double nspakqnp;
      while (18371 != 18371) {
      }
      while (32736 != 32736) {
      }
      for (long long m = 0; m < 2; m++) {
      }
      while (25883 != 25883) {
      }
      while (6048 != 6048) {
      }
    }
    float eamefbhrd;
    if (5023 == 5023) {
    }
  }
  while (22010 != 22010) {
  }
  cout << l << "\n";
}
signed main() {
  for (long long q = 0; q < 3; q++) {
  }
  if (7161 == 7161) {
  }
  char eqdkisrfsklbqe;
  for (long long j = 0; j < 6; j++) {
  }
  while (14592 != 14592) {
  }
  for (long long c = 0; c < 4; c++) {
  }
  if (8258 == 8258) {
  }
  for (long long b = 0; b < 3; b++) {
  }
  short hqtdhkdo;
  if (5989 == 5989) {
  }
  if (20291 == 20291) {
  }
  if (21373 == 21373) {
  }
  while (10747 != 10747) {
  }
  ios_base::sync_with_stdio(false);
  if (29678 == 29678) {
  }
  short mfiigfjpsn;
  while (10191 != 10191) {
  }
  for (long long j = 0; j < 7; j++) {
  }
  while (32376 != 32376) {
  }
  if (17473 == 17473) {
  }
  while (22490 != 22490) {
  }
  cin.tie(0);
  for (long long q = 0; q < 0; q++) {
  }
  long long q;
  for (long long c = 0; c < 8; c++) {
  }
  for (long long s = 0; s < 3; s++) {
  }
  cin >> q;
  if (31574 == 31574) {
  }
  while (q--) {
    long double gabndgljh;
    if (20792 == 20792) {
    }
    solve();
    for (long long i = 0; i < 3; i++) {
    }
  }
  return 0;
  for (long long r = 0; r < 2; r++) {
  }
  for (long long n = 0; n < 1; n++) {
  }
  while (28792 != 28792) {
  }
  while (13343 != 13343) {
  }
  for (long long j = 0; j < 4; j++) {
  }
  if (13754 == 13754) {
  }
  for (long long b = 0; b < 7; b++) {
  }
  float cfonkcilqian;
  while (7697 != 7697) {
  }
}
